/*
 * This file was generated by the Gradle 'init' task.
 */

plugins {
    id 'io.apicurio.java-conventions'
    id('com.google.protobuf') version '0.8.18'
}

    dependencies {
        implementation project(':apicurio-registry-common')
        implementation project(':apicurio-registry-serde-common')
        implementation project(':apicurio-registry-client')
        implementation project(':apicurio-registry-schema-util-common')
        implementation project(':apicurio-registry-ui')
        implementation project(':apicurio-registry-utils-kafka')
        implementation project(':apicurio-registry-schema-util-protobuf')
        implementation project(':apicurio-registry-schema-util-provider')
        implementation project(':apicurio-registry-schema-util-xml')
        implementation project(':apicurio-registry-schema-util-json')
        implementation project(':apicurio-registry-tenant-manager-client')
        implementation project(':apicurio-registry-utils-import-export')
        implementation project(':apicurio-registry-protobuf-schema-utilities')
        implementation project(':apicurio-registry-tenant-manager-datamodel')
        implementation 'io.quarkus:quarkus-undertow:2.2.3.Final'
        implementation 'io.quarkus:quarkus-jackson:2.2.3.Final'
        implementation 'io.quarkus:quarkus-resteasy-jackson:2.2.3.Final'
        implementation 'io.quarkus:quarkus-smallrye-health:2.2.3.Final'
        implementation 'io.quarkus:quarkus-micrometer-registry-prometheus:2.2.3.Final'
        implementation 'io.quarkus:quarkus-vertx:2.2.3.Final'
        implementation 'io.quarkus:quarkus-oidc:2.2.3.Final'
        implementation 'io.quarkus:quarkus-scheduler:2.2.3.Final'
        implementation 'io.quarkus:quarkus-smallrye-context-propagation:2.2.3.Final'
        implementation 'io.quarkus:quarkus-jdbc-h2:2.2.3.Final'
        implementation 'io.quarkus:quarkus-agroal:2.2.3.Final'
        implementation 'com.networknt:json-schema-validator:1.0.64'
        implementation 'io.sentry:sentry:1.7.30'
        implementation 'commons-codec:commons-codec:1.15'
        implementation 'org.projectlombok:lombok:1.18.22'
        annotationProcessor 'org.projectlombok:lombok:1.18.22'
        implementation 'com.squareup.wire:wire-schema:3.7.1'
        implementation 'com.fasterxml.jackson.dataformat:jackson-dataformat-yaml:2.12.5'
        implementation 'io.quarkus:quarkus-kafka-client:2.2.3.Final'
        implementation 'io.apicurio:apicurio-registry-rest-client:1.3.2.Final'
        implementation 'io.apicurio:apicurio-common-rest-client-jdk:0.1.0.Final'
        implementation 'org.apache.avro:avro:1.11.0'

        implementation('uk.gov.nationalarchives:csv-validator-java-api:1.1.5')  {
            exclude group: "com.gilt", module: "gfc-semver_2.11"
        }
        implementation('uk.gov.nationalarchives:csv-validator-parent:1.1.5') {
            exclude group: "com.gilt", module: "gfc-semver_2.11"
        }
        implementation('uk.gov.nationalarchives:csv-validator:1.1.5') {
            exclude group: "com.gilt", module: "gfc-semver_2.11"
        }
        implementation("uk.gov.nationalarchives:csv-validator-core:1.1.5") {
            exclude group: "com.gilt", module: "gfc-semver_2.11"
        }

        testImplementation 'io.apicurio:apicurio-common-rest-client-vertx:0.1.0.Final'
        testImplementation 'io.confluent:kafka-avro-serializer:6.1.1'
        testImplementation 'io.confluent:kafka-protobuf-serializer:6.1.1'
        testImplementation 'io.confluent:kafka-json-schema-serializer:6.1.1'
        testImplementation 'io.confluent:kafka-connect-avro-converter:6.1.1'
        implementation 'io.quarkus:quarkus-junit5:2.2.3.Final'
        implementation 'io.quarkus:quarkus-test-common:2.2.3.Final'
        implementation 'io.quarkus:quarkus-apicurio-registry-avro:2.2.3.Final'
        testImplementation 'org.junit.jupiter:junit-jupiter:5.7.2'
        testImplementation 'io.rest-assured:rest-assured:4.4.0'
        implementation 'com.graphql-java:graphql-java:17.3'
        testImplementation project(':apicurio-registry-serdes-avro-serde')
        testImplementation project(':apicurio-registry-serdes-protobuf-serde')
        testImplementation project(':apicurio-registry-serdes-jsonschema-serde')
        testImplementation project(':apicurio-registry-maven-plugin')
        testImplementation project(':apicurio-registry-utils-tests')
        testImplementation 'io.strimzi:strimzi-test-container:0.25.0'
        testImplementation 'com.github.dasniko:testcontainers-keycloak:1.8.1'
        testImplementation 'org.keycloak:keycloak-admin-client:15.0TestResourceEntry.2'
        testImplementation 'org.apache.kafka:connect-json:2.6.0'
    }

    description = 'apicurio-registry-app'

    tasks.register('testsJar', Jar) {
        archiveClassifier = 'tests'
        from(sourceSets.test.output)
    }

    publishing.publications.maven.artifact(testsJar)