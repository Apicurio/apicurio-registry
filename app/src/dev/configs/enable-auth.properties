%dev.quarkus.oidc.tenant-enabled=true

%dev.registry.keycloak.url=${KEYCLOAK_URL:https://studio-auth.apicur.io/auth}
%dev.registry.keycloak.realm=${KEYCLOAK_REALM:apicurio-local}

%dev.quarkus.oidc.auth-server-url=${registry.keycloak.url}/realms/${registry.keycloak.realm}
%dev.quarkus.oidc.client-id=${KEYCLOAK_API_CLIENT_ID:registry-api}

%dev.registry.ui.config.auth.keycloak.url=${registry.keycloak.url}
%dev.registry.ui.config.auth.keycloak.realm=${registry.keycloak.realm}
%dev.registry.ui.config.auth.keycloak.clientId=${KEYCLOAK_UI_CLIENT_ID:apicurio-registry}
%dev.registry.ui.config.auth.keycloak.onLoad=login-required

%dev.quarkus.http.auth.policy.read-policy.roles-allowed=registry-user,registry-admin
%dev.quarkus.http.auth.permission.user.paths=/api/*,/public/*,/css/*,/js/*,/robots.txt
%dev.quarkus.http.auth.permission.user.policy=read-policy
%dev.quarkus.http.auth.permission.user.methods=GET,HEAD

%dev.quarkus.http.auth.policy.modify-policy.roles-allowed=registry-admin
%dev.quarkus.http.auth.permission.admin.paths=/api/*,/public/*,/css/*,/js/*,/robots.txt
%dev.quarkus.http.auth.permission.admin.policy=modify-policy
%dev.quarkus.http.auth.permission.admin.methods=PUT,POST,DELETE,PATCH

%dev.quarkus.http.auth.permission.permit1.paths=/health,/openapi,/metrics/*
%dev.quarkus.http.auth.permission.permit1.policy=permit
%dev.quarkus.http.auth.permission.permit1.methods=GET

%dev.quarkus.http.auth.permission.authenticated.paths=/api/*
%dev.quarkus.http.auth.permission.authenticated.policy=authenticated
