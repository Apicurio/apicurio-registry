asyncapi: 3.0.0
info:
  title: "AsyncAPI Shopping Cart Example"
  version: 0.0.1
  tags:
    - name: "ShoppingCart"

defaultContentType: application/json

channels:
  ShoppingCartChannel:
    address: "shopping-cart"
    messages:
      ShoppingCartCreatedMessage:
        $ref: '#/components/messages/ShoppingCartCreatedMessage'

operations:
  onShoppingCartCreated:
    action: send
    tags:
      - name: ShoppingCart
    channel:
      $ref: '#/channels/ShoppingCartChannel'
    messages:
      - $ref: '#/channels/ShoppingCartChannel/messages/ShoppingCartCreatedMessage'

components:
  messages:
    ShoppingCartCreatedMessage:
      name: ShoppingCartCreatedMessage
      title: "Shopping Cart Created Event"
      summary: "Event emitted when a shopping cart is created"
      payload:
        schemaFormat: application/vnd.apache.avro+json;version=1.9.0
        schema:
          $ref: "./avro/ShoppingCartCreated.avsc"
