// Module included in the following assemblies:
//  assembly-using-kafka-client-serdes

[id='registry-serdes-config-consumer-{context}']
= Using a schema from a consumer client

This procedure describes how to configure a Kafka consumer client written in Java to use a schema from {registry}.

.Prerequisites

* {registry} is installed
* The schema is registered with {registry}

.Procedure

. Configure the client with the URL of {registry}.
+
For example:
+
[source,shell,subs="+quotes,attributes"]
----
String registryUrl = "https://registry.example.com/api";
Properties props = new Properties();
props.putIfAbsent(AbstractKafkaSerDe.REGISTRY_URL_CONFIG_PARAM, registryUrl); <1>
----

. Configure the client with the {registry} deserializer.
+
For example:
+
[source,java,subs="+quotes,attributes"]
----
// Configure Kafka
props.putIfAbsent(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, SERVERS);
props.putIfAbsent(ConsumerConfig.GROUP_ID_CONFIG, "Consumer-" + TOPIC_NAME);
props.putIfAbsent(ConsumerConfig.ENABLE_AUTO_COMMIT_CONFIG, "true");
props.putIfAbsent(ConsumerConfig.AUTO_COMMIT_INTERVAL_MS_CONFIG, "1000");
props.putIfAbsent(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, "earliest");
props.putIfAbsent(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG,
    AvroKafkaDeserializer.class.getName()); <2> <3>
props.putIfAbsent(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG,
    AvroKafkaDeserializer.class.getName()); <2> <3>
----
<1> The {registry} URL.
<2> The deserializer provided by {registry}.
<3> The deserialization is in _Apache Avro_ JSON format.
