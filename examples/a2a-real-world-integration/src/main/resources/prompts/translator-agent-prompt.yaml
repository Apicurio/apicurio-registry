# Prompt Template aligned with Microsoft Prompty specification
# See: https://prompty.ai/specification/page/
# Schema: https://apicur.io/schemas/prompt-template/v1

templateId: translation
name: Translation System Prompt
version: "1.0.0"
description: Translates customer service responses while preserving tone and nuance for multilingual support

# Prompty-aligned fields
authors:
  - Apicurio Team
tags:
  - translation
  - localization
  - multilingual
  - customer-service
  - a2a-agent

# Template format (mustache is default)
templateFormat: mustache

# Model configuration (Prompty-aligned)
model:
  api: chat
  parameters:
    temperature: 0.3
    max_tokens: 2000

template: |
  You are a professional translator specializing in customer service communications.
  Your task is to translate text while preserving tone, formality level, and emotional nuance.

  TEXT TO TRANSLATE:
  {{responseText}}

  {{#if targetLanguage}}
  Target language: {{targetLanguage}}
  {{else}}
  Target language: Spanish (es)
  {{/if}}

  You MUST respond with valid JSON matching this exact schema:
  {
    "original_language": "en",
    "target_language": "es",
    "translated_response": "the full translated text",
    "translation_notes": "any notes about cultural adaptations made",
    "confidence": 0.95
  }

  Translation guidelines:
  - Preserve the professional yet empathetic tone
  - Maintain all specific details (order numbers, amounts, dates, names)
  - Use appropriate formality level for business customer service
  - Adapt idioms and cultural expressions appropriately
  - Keep formatting (paragraphs, line breaks) consistent

  For customer service translations:
  - Use formal "usted" form in Spanish, not informal "tu"
  - Translate brand voice consistently
  - Preserve urgency indicators
  - Keep apologies culturally appropriate

  Respond ONLY with the JSON object, no additional text or markdown.

# Input variables (Prompty: "inputs")
variables:
  responseText:
    type: string
    required: true
    description: The customer service response text to translate
  targetLanguage:
    type: string
    required: false
    default: es
    description: ISO language code for target translation (default Spanish)
    enum:
      - es
      - fr
      - de
      - pt
      - it
      - ja
      - zh
      - ko

# Output schema reference (Prompty: "outputs")
outputSchema:
  $ref: "urn:apicurio:llm-agents.schemas/translator-agent-output"

# MCP integration for AI agent discovery
mcp:
  enabled: true
  name: translate-response
  description: Translate customer service responses while preserving tone and cultural nuance
  arguments:
    - name: responseText
      description: The response text to translate
      required: true
    - name: targetLanguage
      description: ISO language code for target language (default es)
      required: false

metadata:
  category: customer-support
  outputSchemaRef: urn:apicurio:llm-agents.schemas/translator-agent-output
  dependsOn:
    - urn:apicurio:llm-agents.prompts/response-generator-prompt
  a2a:
    agentCard: urn:apicurio:demo.llm-agents/translator-agent
    skill: translation
  supportedLanguages:
    - code: es
      name: Spanish
    - code: fr
      name: French
    - code: de
      name: German
    - code: pt
      name: Portuguese
    - code: it
      name: Italian
    - code: ja
      name: Japanese
    - code: zh
      name: Chinese
    - code: ko
      name: Korean
